{% extends 'seller_dashboard/components/seller_base.html' %}
{% load static %}
{% block title %}Orders For My Products{% endblock %}
{% block content %}
    <h1>Orders For My Products</h1>
    <hr>
    <br>

    <div class="page">
        {% if order_items %}
            <table>
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Photo</th>
                        <th>Product</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Total Price</th>
                        <th>Order Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in order_items %}
                        <tr>
                            <td data-label="Order ID">#{{ item.order_id }}</td>
                            <td data-label="Photo">
                                {% if item.product.image %}
                                    <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" width="50" height="50" style="object-fit: cover; border-radius: 6px;" />
                                {% elif item.product.URL_image %}
                                    <img src="{{ item.product.URL_image }}" alt="{{ item.product.name }}" width="50" height="50" style="object-fit: cover; border-radius: 6px;" />
                                {% else %}
                                    <span>No Image</span>
                                {% endif %}
                            </td>
                            <td data-label="Product">{{ item.product.name }}</td>
                            <td data-label="Quantity">{{ item.quantity }}</td>
                            <td data-label="Price">{{ item.price }} E.P</td>
                            <td data-label="Total Price">{{ item.total_price }} E.P</td>
                            <td data-label="Order Date">{{ item.date|date:"Y-m-d H:i" }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>There Are No Orders For Your Products Yet.</p>
        {% endif %}
    </div>
{% endblock %}


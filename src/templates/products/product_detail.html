{% extends 'base.html' %}
{% load static %}

{% block title %}{{ product.name }}{% endblock %}
{% block navbar %}
{% include 'products/components/detail_navbar.html' %}
{% endblock %}
{% block content %}
<div class="container my-5">
  
  
  <h3 class="text-center fw-bold mb-5">{{ product.name }}</h3>

  <div class="row align-items-start">

    
    <div class="col-md-6">
      <div class="bg-light d-flex justify-content-center align-items-center" style="height: 400px;">
        <img src="{% if product.URL_image %} {{ product.URL_image }} {% else %} {{product.image.url}} {% endif %}"
             alt="{{ product.name }}"
             class="img-fluid"
             style="max-height: 380px; object-fit: contain;" />
      </div>
    </div>

   
    <div class="col-md-6">
      <div class="ps-md-4 mt-4 mt-md-0">

        <h4 class="fw-bold">{{ product.name }}</h4>
        <p class="text-dark fs-5 fw-semibold"> Price : {{ product.price }} $</p>

        {% if product.description %}
        <p class="text-muted">{{ product.description }}</p>
        {% endif %}

        <p class="fw-light text-muted mb-4">Category: {{ product.category.name }}</p>
       <div class="d-flex align-items-center gap-2 mb-3">
  <form method="" action="" class="d-flex align-items-center gap-2">
    {% csrf_token %}
       <div class="input-group" style="width: 140px;">
          <button type="button" class="my-btn" onclick="this.nextElementSibling.stepDown()">-</button>
          <input id="quantity" type="number" name="quantity" value="1" min="1" class="form-control text-center">
          <button type="button" class="my-btn" onclick="this.previousElementSibling.stepUp()">+</button>
       </div>
    <button id="add-to-cart" name="{% url 'add_to_cart' %}" data-product-id="{{ product.id }}" type="button" class="my-btn">Add to Cart</button>
  </form>

  
  <a name="{% url 'toggle_wishlist' product.id %}" href="#" id="wishlist"
        class="my-btn me-2 px-2 d-inline-flex align-items-center justify-content-center " style="height: 38px; min-width: 38px;">
        <i class="bi {% if product in request.user.wishlist_products.all %}bi-heart-fill text-danger{% else %}bi-heart{% endif %}"></i>

     </a>
</div>

  
     <a href="{% url 'product_list' %}" class="my-btn me-2">Back to products</a>

        

      </div>
    </div>

  </div>
</div>
{% endblock %}

{% block scripts %}

<script src="{% static 'products/js/product_list.js' %}" defer></script>
  

{% endblock %}

